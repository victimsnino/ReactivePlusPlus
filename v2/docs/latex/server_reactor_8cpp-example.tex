\doxysection{server\+\_\+reactor.\+cpp}
\hypertarget{server_reactor_8cpp-example}{}\label{server_reactor_8cpp-example}
\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <rpp/rpp.hpp>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <grpc++/create\_channel.h>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <rppgrpc/rppgrpc.hpp>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}protocol.grpc.pb.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_server}{Server}}\ :\ \textcolor{keyword}{public}\ TestService::CallbackService}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ grpc::ServerReadReactor<Request>*\ ClientSide(grpc::CallbackServerContext*\ \textcolor{comment}{/*context*/},\ Response*\ \textcolor{comment}{/*response*/})\textcolor{keyword}{\ override}}
\DoxyCodeLine{\textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ reactor\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classrppgrpc_1_1server__read__reactor}{rppgrpc::server\_read\_reactor<Request>}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ reactor-\/>get\_observable().subscribe([](\textcolor{keyword}{const}\ Request\&)\ \{\},\ []()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}DONE"{}}\ <<\ std::endl;\ \});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ reactor;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ grpc::ServerBidiReactor<Request,\ Response>*\ Bidirectional(grpc::CallbackServerContext*\ \textcolor{comment}{/*context*/})\textcolor{keyword}{\ override}}
\DoxyCodeLine{\textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ reactor\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classrppgrpc_1_1server__bidi__reactor}{rppgrpc::server\_bidi\_reactor<Request,\ Response>}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ reactor-\/>get\_observable().subscribe([](\textcolor{keyword}{const}\ Request\&)\ \{\},\ []()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}DONE"{}}\ <<\ std::endl;\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ reactor-\/>get\_observer().on\_next(Response\{\});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ reactor;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ grpc::ServerWriteReactor<Response>*\ ServerSide(grpc::CallbackServerContext*\ \textcolor{comment}{/*context*/},\ \textcolor{keyword}{const}\ Request*\ \textcolor{comment}{/*request*/})\textcolor{keyword}{\ override}}
\DoxyCodeLine{\textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ reactor\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classrppgrpc_1_1server__write__reactor}{rppgrpc::server\_write\_reactor<Response>}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ reactor-\/>get\_observable().subscribe([](rpp::utils::none)\ \{\},\ []()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}DONE"{}}\ <<\ std::endl;\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ reactor-\/>get\_observer().on\_next(Response\{\});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ reactor;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 